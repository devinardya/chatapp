{"ast":null,"code":"import io from 'socket.io-client';\n\nfunction DataMessagesHistory() {\n  const socket = io('localhost:3000');\n\n  function connect() {\n    return new Promise((resolve, reject) => {\n      socket.on('connect', function () {\n        resolve(console.log(\"CONNECTED\"));\n      });\n    });\n  }\n\n  function getDataHistory() {\n    return new Promise((resolve, reject) => {\n      socket.on('message', data => {\n        console.log(\"message\", data);\n        resolve(data);\n      });\n    });\n  }\n\n  return connect().then(getDataHistory);\n}\n\nexport { DataMessagesHistory };","map":{"version":3,"sources":["/Users/admin/Documents/EC-Projects/EC-Backend-Lab/chatapp/src/socket.js"],"names":["io","DataMessagesHistory","socket","connect","Promise","resolve","reject","on","console","log","getDataHistory","data","then"],"mappings":"AAAA,OAAOA,EAAP,MAAe,kBAAf;;AAEA,SAASC,mBAAT,GAA8B;AAE1B,QAAMC,MAAM,GAAGF,EAAE,CAAC,gBAAD,CAAjB;;AAEA,WAASG,OAAT,GAAkB;AACd,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCJ,MAAAA,MAAM,CAACK,EAAP,CAAU,SAAV,EAAqB,YAAU;AAC3BF,QAAAA,OAAO,CAACG,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAD,CAAP;AACH,OAFD;AAGH,KAJM,CAAP;AAKH;;AAED,WAASC,cAAT,GAAyB;AACrB,WAAO,IAAIN,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAoB;AACnCJ,MAAAA,MAAM,CAACK,EAAP,CAAU,SAAV,EAAqBI,IAAI,IAAG;AACxBH,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBE,IAAvB;AACAN,QAAAA,OAAO,CAACM,IAAD,CAAP;AACH,OAHD;AAIH,KALM,CAAP;AAMH;;AAED,SAAOR,OAAO,GACbS,IADM,CACDF,cADC,CAAP;AAGH;;AAED,SAAQT,mBAAR","sourcesContent":["import io from 'socket.io-client';\n\nfunction DataMessagesHistory(){\n    \n    const socket = io('localhost:3000');\n\n    function connect(){\n        return new Promise((resolve, reject) => {\n            socket.on('connect', function(){\n                resolve(console.log(\"CONNECTED\")) \n            })\n        })\n    }\n\n    function getDataHistory(){\n        return new Promise((resolve, reject) =>{\n            socket.on('message', data =>{\n                console.log(\"message\", data);\n                resolve(data);\n            })\n        })\n    }\n\n    return connect()\n    .then(getDataHistory)\n\n}\n\nexport {DataMessagesHistory};"]},"metadata":{},"sourceType":"module"}