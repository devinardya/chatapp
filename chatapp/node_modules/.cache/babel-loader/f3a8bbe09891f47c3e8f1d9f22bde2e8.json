{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/EC-Projects/EC-Backend-Lab/chatapp/src/Chat/Chat.js\";\nimport React from 'react';\nimport { DataMessagesHistory, DataMessagesUpdate } from '../Socket/socket';\nimport io from 'socket.io-client';\nconst socket = io('/localhost:3000');\n\nconst Chat = () => {\n  useEffect(() => {\n    DataMessagesHistory().then(chatHistory => {\n      console.log(chatHistory);\n    });\n    DataMessagesUpdate(socket, (err, newMessage) => {\n      let copyMessage = [...this.state.dataHistory];\n      copyMessage.splice(0, 1);\n      console.log(newMessage); //this.setState({ dataHistory: [...copyMessage, newMessage] });\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }\n  }, \"Chat\");\n};\n\nexport default Chat;","map":{"version":3,"sources":["/Users/admin/Documents/EC-Projects/EC-Backend-Lab/chatapp/src/Chat/Chat.js"],"names":["React","DataMessagesHistory","DataMessagesUpdate","io","socket","Chat","useEffect","then","chatHistory","console","log","err","newMessage","copyMessage","state","dataHistory","splice"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,EAA8BC,kBAA9B,QAAwD,kBAAxD;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,MAAMC,MAAM,GAAGD,EAAE,CAAC,iBAAD,CAAjB;;AAEA,MAAME,IAAI,GAAG,MAAM;AAEfC,EAAAA,SAAS,CAAE,MAAK;AACZL,IAAAA,mBAAmB,GAClBM,IADD,CACOC,WAAW,IAAI;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AAEH,KAJD;AAMAN,IAAAA,kBAAkB,CAACE,MAAD,EAAS,CAACO,GAAD,EAAMC,UAAN,KAAqB;AAC5C,UAAIC,WAAW,GAAG,CAAC,GAAG,KAAKC,KAAL,CAAWC,WAAf,CAAlB;AACAF,MAAAA,WAAW,CAACG,MAAZ,CAAmB,CAAnB,EAAsB,CAAtB;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYE,UAAZ,EAH4C,CAI5C;AACH,KALiB,CAAlB;AAMH,GAbQ,EAaP,EAbO,CAAT;AAeA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,CAlBD;;AAoBA,eAAeP,IAAf","sourcesContent":["import React from 'react';\nimport { DataMessagesHistory, DataMessagesUpdate } from '../Socket/socket';\nimport io from 'socket.io-client';\n\nconst socket = io('/localhost:3000');\n\nconst Chat = () => {\n\n    useEffect( ()=> {\n        DataMessagesHistory()\n        .then( chatHistory => {\n            console.log(chatHistory)\n            \n        })\n\n        DataMessagesUpdate(socket, (err, newMessage) => {\t\n            let copyMessage = [...this.state.dataHistory];\t\n            copyMessage.splice(0, 1);\t\n            console.log(newMessage)\n            //this.setState({ dataHistory: [...copyMessage, newMessage] });\n        })\n    },[])\n\n    return <h1>Chat</h1>\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}